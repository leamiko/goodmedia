(function(c,a,b){var d=function(e,h){var g={form:null,target:null,cls:null,success:null,blur:false,batchcallback:null,batchafter:null,focusfn:null,attrname:"data-v"};var f={empty:function(i){if(i==""){return false}return true},num:function(i){if(isNaN(i)){return false}return true},l:function(k,j,i){if(k.length<j||k.length>i){return false}return true},n:function(k,j,i){if(k<j||k>i){return false}return true},phone:function(i){return(/^(?:13\d|15\d|18\d)-?\d{5}(\d{3}|\*{3})$/).test(i)},email:function(i){return(/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+((\.[a-zA-Z0-9_-]{2,3}){1,2})$/).test(i)},equal:function(j,i){if(j!=c(i).val()){return false}return true},checked:function(j,i){if(!c(i).attr("checked")){return false}return true}};c.extend(g,e);c.extend(f,h);this.rule=f;this.config=g;this.data={}};d.prototype={init:function(){var f=this,e=f.config;if(!e.cls){return}if((!e.form&&!e.target)||(e.form&&e.target)){return}if(e.form){f._form(e.form)}else{if(e.target){f._target(e.target)}}if(e.blur){c(e.cls).live("blur",function(){var g=c(this);f._bacthone(g)});c(e.cls).live("focus",function(){var g=c(this);if(e.focusfn){e.focusfn(g)}})}},_form:function(g){var f=this,e=f.config;c(g).live("submit",function(){var h=f._batch(e.cls);if(h&&e.success){e.success(f.data)}return false})},_target:function(e){var g=this,f=g.config;c(e).live("click",function(){var h=g._batch(f.cls);if(h&&f.success){f.success(g.data)}return false})},_translate:function(l){var e=l.split("|"),h={};for(var g=0;g<e.length;g++){var m=e[g].split(":"),f=m[0],k=m[1],j=(m[2])?m[2].split("."):[];h[f]={msg:k,arg:j}}return h},_bacthone:function(k){var j=this,h=j.config,m=c.trim(k.val()),l=k.attr(h.attrname),f=j._translate(l);for(var g in f){f[g]["arg"].splice(0,0,m);var e=j.rule[g].apply(this,f[g]["arg"]);if(!e){if(h.batchcallback){h.batchcallback(m,f[g]["msg"],k)}break}}},_batch:function(f){var i=this,h=i.config,e=true,g=0;c(f).each(function(l,n){var p=c.trim(c(this).val()),o=c(this).attr(h.attrname),k=i._translate(o);g++;for(var m in k){k[m]["arg"].splice(0,0,p);var j=i.rule[m].apply(this,k[m]["arg"]);if(!j){if(h.batchcallback){h.batchcallback(p,k[m]["msg"],n)}e=false;break}}if(!e){return false}else{if(c(this).attr("name")){i.data[c(this).attr("name")]=p}else{i.data[g]=p}}});return e}};if(b&&b.widget){b.widget.verify=d}})(jQuery,window,GM);