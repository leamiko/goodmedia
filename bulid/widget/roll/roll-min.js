(function(a,c,d){var b=function(f,e){this.wrap=f;this.scrollWrap="#J_ScrollWrap"+new Date().valueOf();this.T=null;this.firstclone=null;this.lastclone=null;var g={towards:"up",height:300,width:300,speed:200,auto:true};d.extend(g,e);this.config=g};b.prototype={_roll:function(j){var p=this,f=d(p.wrap),g=d(p.scrollWrap),m=p.firstclone,u=p.lastclone,k=function(){return{left:f.position().left}},i=function(){return{top:f.position().top}},t=f.position().top,h=f.position().left,e=m.position().top,r=u.position().top,q=m.position().left,s=u.position().left;var o={up:function(){t--;e--;r--;f.css("top",t);p.firstclone.css("top",e);p.lastclone.css("top",r)},down:function(){t++;e++;r++;f.css("top",t);p.firstclone.css("top",e);p.lastclone.css("top",r)},left:function(){h--;q--;s--;f.css("left",h);p.firstclone.css("left",q);p.lastclone.css("left",s)},right:function(){h++;q++;s++;f.css("left",h);p.firstclone.css("left",q);p.lastclone.css("left",s)}};var l=function(){o[j]();var w=function(){if(Math.abs(t)>=f.height()){f.css("top",0);if(j==="up"||j==="down"){p.firstclone.css("top",-f.height());p.lastclone.css("top",f.height())}}};var v=function(){if(Math.abs(h)>=f.width()){f.css("left",0);if(j==="left"||j==="right"){p.firstclone.css("left",-f.width());p.lastclone.css("left",f.width())}}};switch(j){case"up":w();break;case"down":w();break;case"left":v();break;case"right":v();break;default:break}};var n={up:function(){if(Math.abs(t)<=f.height()-g.height()){o[j]()}else{l()}},down:function(){if(Math.abs(t)<g.height()){o[j]()}else{l()}},left:function(){if(Math.abs(h)<=f.width()-g.width()){o[j]()}else{l()}},right:function(){if(Math.abs(h)<g.width()){o[j]()}else{l()}}};n[j]()},changeTowards:function(e){this.config.towards=e;this.stop();this.run()},changespeed:function(e){this.config.speed=e;this.stop();this.run()},auto:function(e){this.config.auto=e;this.stop();this.run()},run:function(){var i=this,e=d(i.wrap),h=i.config,g=h.towards,f=d(i.scrollWrap);var j={transverse:(g==="left"||g==="right")?(f.width()<e.width()):true,vertical:(g==="up"||g==="down")?(f.height()<e.height()):true};if(j.transverse&&j.vertical&&i.config.auto){i.T=setInterval(function(){i._roll(g)},i.config.speed)}},stop:function(){var e=this;clearInterval(e.T)},createClone:function(){var i=this,g=d(i.wrap),h=i.config;i.firstclone=g.clone();i.lastclone=g.clone();i.firstclone.attr("id","J_"+new Date().valueOf());i.lastclone.attr("id","J_"+new Date().valueOf());g.parent().prepend(i.firstclone);g.parent().append(i.lastclone);var f=function(){i.firstclone.css({left:-g.width(),top:0});i.lastclone.css({left:g.width(),top:0})},e=function(){i.firstclone.css({left:0,top:-g.height()});i.lastclone.css({left:0,top:g.height()})};switch(h.towards){case"up":e();break;case"down":e();break;case"left":f();break;case"right":f();break;default:break}},init:function(){var g=this,f=g.config,e=d(g.wrap);e.wrap("<div id='"+g.scrollWrap.slice(1)+"'></div>").css({position:"absolute",top:0,left:0});d(g.scrollWrap).css({width:f.width,height:f.height,overflow:"hidden",position:"relative"});g.createClone();g.run()}};if(c&&c.widget){c.widget.roll=b}})(window,GM,jQuery);