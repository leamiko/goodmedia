<div xmlns:ext="http://www.extjs.com" class="body-wrap"><div class="inheritance res-block"><pre class="res-block-inner"><a href="output/Xwb.ax.Eventable.html" ext:member="" ext:cls="Xwb.ax.Eventable">Eventable</a>&#13;&nbsp;&nbsp;<img src="resources/elbow-end.gif">Xwb</pre></div><h1>类 <a href="source/std-doc.html#cls-Xwb">Xwb</a></h1><table cellspacing="0"><tr><td class="label">空间：</td><td class="hd-info">全局</td></tr><tr><td class="label">定义在:</td><td class="hd-info">std-doc.js,&#13;std-doc.js,&#13;std-doc.js</td></tr><tr><td class="label">类:</td><td class="hd-info"><a href="source/std-doc.html#cls-Xwb">Xwb</a></td></tr><tr><td class="label">父类:</td><td class="hd-info"><a href="output/Xwb.ax.Eventable.html" ext:cls="Xwb.ax.Eventable" ext:member="">Eventable</a></td></tr></table><div class="description">本类是所有Xweibo JavaScript交互应用的命名空间根目录。</div><div class="hr"></div><a id="Xwb-props"></a><h2>公共属性（只读）</h2><div class="no-members">This class has no public properties.</div><a id="Xwb-events"></a><h2>事件列表</h2><table cellspacing="0" class="member-table"><tbody><tr><th colspan="2" class="sig-header">Event</th><th class="msource-header">Defined By</th></tr><tr class="method-row expandable "><td class="micon"><a href="#expand" class="exi">&nbsp;</a></td><td class="sig"><a id="Xwb-pipe.start"></a><b><a href="source/std-doc.html#event-Xwb-pipe.start">pipe.start</a></b> :
                                      (&nbsp;<code>Object&nbsp;cfg</code>&nbsp;)
    <div class="mdesc"><div class="short">页面块加载前发送
// 模块加载前做预处理&#13;
        Xwb.on('pipe.start', function(cfg){&#13;
            alert(cfg.page);&#13;
        });</div><div class="long">页面块加载前发送
<pre><code><i>// 模块加载前做预处理</i>
        Xwb.on(<em>'pipe.start'</em>, <b>function</b>(cfg){
            alert(cfg.page);
        });</code></pre><div class="mdetail-params"><strong style="font-weight: normal;">Listeners will be called with the following arguments:</strong><ul><li><code>cfg</code> : Object<div class="sub-desc">全局配置信息，该信息可通过<a href="output/Xwb.getCfg.html" ext:cls="Xwb.getCfg">Xwb.getCfg</a>方法获得</div></li></ul></div></div></div></td><td class="msource">Xwb</td></tr><tr class="method-row expandable "><td class="micon"><a href="#expand" class="exi">&nbsp;</a></td><td class="sig"><a id="Xwb-pipe.end"></a><b><a href="source/std-doc.html#event-Xwb-pipe.end">pipe.end</a></b> :
                                      ()
    <div class="mdesc"><div class="short">页面所有块加载结束后发送，可替代jQuery里的DOMReady处理。</div><div class="long">页面所有块加载结束后发送，可替代jQuery里的DOMReady处理。<div class="mdetail-params"><strong style="font-weight: normal;">Listeners will be called with the following arguments:</strong><ul><li>None.</li></ul></div></div></div></td><td class="msource">Xwb</td></tr><tr class="method-row expandable "><td class="micon"><a href="#expand" class="exi">&nbsp;</a></td><td class="sig"><a id="Xwb-page.before"></a><b><a href="source/std-doc.html#event-Xwb-page.before">page.before</a></b> :
                                      (&nbsp;<code>Object&nbsp;pageConfig</code>&nbsp;)
    <div class="mdesc"><div class="short"></div><div class="long"><div class="mdetail-params"><strong style="font-weight: normal;">Listeners will be called with the following arguments:</strong><ul><li><code>pageConfig</code> : Object<div class="sub-desc">当前页面块配置信息</div></li></ul></div></div></div></td><td class="msource">Xwb</td></tr><tr class="method-row expandable "><td class="micon"><a href="#expand" class="exi">&nbsp;</a></td><td class="sig"><a id="Xwb-page.after"></a><b><a href="source/std-doc.html#event-Xwb-page.after">page.after</a></b> :
                                      (&nbsp;<code>Xwb.ax.Pagelet&nbsp;pagelet</code>&nbsp;)
    <div class="mdesc"><div class="short">块加载完成后发送</div><div class="long">块加载完成后发送<div class="mdetail-params"><strong style="font-weight: normal;">Listeners will be called with the following arguments:</strong><ul><li><code>pagelet</code> : Xwb.ax.Pagelet<div class="sub-desc">当前块实例</div></li></ul></div></div></div></td><td class="msource">Xwb</td></tr></tbody></table><a id="Xwb-methods"></a><h2>公共方法</h2><table cellspacing="0" class="member-table"><tbody><tr><th colspan="2" class="sig-header">method</th><th class="msource-header">定义在</th></tr><tr class="method-row expandable inherited"><td class="micon"><a href="#expand" class="exi">&nbsp;</a></td><td class="sig"><a id="Xwb.ax.Eventable-fire"></a><b><a href="source/std-doc.html#method-Xwb.ax.Eventable-fire">fire</a></b>(&nbsp;<code>Object&nbsp;eid</code>,&nbsp;<code>Object,&nbsp;Object,</code>&nbsp;)
    :
                                        void<div class="mdesc"><div class="short">发送对象事件.&#13;
 var e = new Eventable();&#13;
  e.on('selected', function(arg){&#13;
   //handling..&#13;
  });&#13;
  e.fire('selected', a...</div><div class="long">发送对象事件.<br>
 <pre><code><b>var</b> e = <b>new</b> Eventable();
  e.on(<em>'selected'</em>, <b>function</b>(arg){
   <i>//handling..</i>
  });
  e.fire(<em>'selected'</em>, arg);</code></pre><div class="mdetail-params"><strong>Parameters:</strong><ul><li><code>eid</code> : Object<div class="sub-desc">事件名称</div></li><li><code>Object,</code> : Object,<div class="sub-desc">...} args 传递的回调参数</div></li></ul><strong>Returns:</strong><ul><li>void</li></ul></div></div></div></td><td class="msource"><a href="output/Xwb.ax.Eventable.html#fire" ext:member="#fire" ext:cls="Xwb.ax.Eventable">Eventable</a></td></tr><tr class="method-row expandable inherited"><td class="micon"><a href="#expand" class="exi">&nbsp;</a></td><td class="sig"><a id="Xwb.ax.Eventable-on"></a><b><a href="source/std-doc.html#method-Xwb.ax.Eventable-on">on</a></b>(&nbsp;<code>Object&nbsp;eid</code>,&nbsp;<code>Function&nbsp;callback</code>,&nbsp;<code>Object&nbsp;[ds]</code>,&nbsp;<code>Object&nbsp;[objArgs]</code>&nbsp;)
    :
                                        this<div class="mdesc"><div class="short">监听对象事件,如果回调函数返回false,取消后续的事件处理. &#13;
 var self = {name:'cat'};&#13;
   var cfg = {message:'Good boy!'};&#13;
   var e = new Xwb....</div><div class="long">监听对象事件,如果回调函数返回false,取消后续的事件处理. <br>
 <pre><code><b>var</b> self = {name:<em>'cat'</em>};
   <b>var</b> cfg = {message:<em>'Good boy!'</em>};
   <b>var</b> e = <b>new</b> Xwb.Eventable();
   e.on(<em>'selected'</em>, <b>function</b>(item, cfg){
    <i>//显示an item</i>
    alert(item.title);

    <i>//显示Rock</i>
    alert(this.name);

    <i>//显示Good boy!</i>
    alert(cfg.message);
   }, self, cfg);

   <b>var</b> item = {title:<em>'an item'</em>};
   e.fire(<em>'selected'</em>, item);</code></pre><div class="mdetail-params"><strong>Parameters:</strong><ul><li><code>eid</code> : Object<div class="sub-desc">事件名称</div></li><li><code>callback</code> : Function<div class="sub-desc">事件回调函数</div></li><li><code>[ds]</code> : Object<div class="sub-desc">this范围对象</div></li><li><code>[objArgs]</code> : Object<div class="sub-desc">传递参数,该参数将作为回调最后一个参数传递</div></li></ul><strong>Returns:</strong><ul><li><code>this</code><div class="sub-desc"></div></li></ul></div></div></div></td><td class="msource"><a href="output/Xwb.ax.Eventable.html#on" ext:member="#on" ext:cls="Xwb.ax.Eventable">Eventable</a></td></tr><tr class="method-row expandable inherited"><td class="micon"><a href="#expand" class="exi">&nbsp;</a></td><td class="sig"><a id="Xwb.ax.Eventable-un"></a><b><a href="source/std-doc.html#method-Xwb.ax.Eventable-un">un</a></b>(&nbsp;<code>Object&nbsp;eid</code>,&nbsp;<code>Function&nbsp;callback</code>&nbsp;)
    :
                                        this<div class="mdesc"><div class="short">移除事件监听.</div><div class="long">移除事件监听.<div class="mdetail-params"><strong>Parameters:</strong><ul><li><code>eid</code> : Object<div class="sub-desc"></div></li><li><code>callback</code> : Function<div class="sub-desc"></div></li></ul><strong>Returns:</strong><ul><li><code>this</code><div class="sub-desc"></div></li></ul></div></div></div></td><td class="msource"><a href="output/Xwb.ax.Eventable.html#un" ext:member="#un" ext:cls="Xwb.ax.Eventable">Eventable</a></td></tr><tr class="method-row expandable inherited"><td class="micon"><a href="#expand" class="exi">&nbsp;</a></td><td class="sig"><a id="Xwb.ax.Eventable-fireOnce"></a><b><a href="source/std-doc.html#method-Xwb.ax.Eventable-fireOnce">fireOnce</a></b>(&nbsp;<code>Object&nbsp;eid</code>&nbsp;)
    :
                                        this<div class="mdesc"><div class="short">发送一次后移除所有监听器,有些事件只通知一次的,此时可调用该方法发送事件</div><div class="long">发送一次后移除所有监听器,有些事件只通知一次的,此时可调用该方法发送事件<div class="mdetail-params"><strong>Parameters:</strong><ul><li><code>eid</code> : Object<div class="sub-desc"></div></li></ul><strong>Returns:</strong><ul><li><code>this</code><div class="sub-desc"></div></li></ul></div></div></div></td><td class="msource"><a href="output/Xwb.ax.Eventable.html#fireOnce" ext:member="#fireOnce" ext:cls="Xwb.ax.Eventable">Eventable</a></td></tr><tr class="method-row expandable inherited"><td class="micon"><a href="#expand" class="exi">&nbsp;</a></td><td class="sig"><a id="Xwb.ax.Eventable-to"></a><b><a href="source/std-doc.html#method-Xwb.ax.Eventable-to">to</a></b>(&nbsp;<code>Object&nbsp;target</code>&nbsp;)
    :
                                        this<div class="mdesc"><div class="short">订阅当前对象所有事件</div><div class="long">订阅当前对象所有事件<div class="mdetail-params"><strong>Parameters:</strong><ul><li><code>target</code> : Object<div class="sub-desc">订阅者,订阅者也是可Eventable的对象</div></li></ul><strong>Returns:</strong><ul><li><code>this</code><div class="sub-desc"></div></li></ul></div></div></div></td><td class="msource"><a href="output/Xwb.ax.Eventable.html#to" ext:member="#to" ext:cls="Xwb.ax.Eventable">Eventable</a></td></tr><tr class="method-row expandable "><td class="micon"><a href="#expand" class="exi">&nbsp;</a></td><td class="sig"><a id="Xwb-getCfg"></a><b><a href="source/std-doc.html#method-Xwb-getCfg">getCfg</a></b>(&nbsp;<code>String&nbsp;key</code>&nbsp;)
    :
                                        Object<div class="mdesc"><div class="short">根据配置名称获得全局配置值</div><div class="long">根据配置名称获得全局配置值<div class="mdetail-params"><strong>Parameters:</strong><ul><li><code>key</code> : String<div class="sub-desc"></div></li></ul><strong>Returns:</strong><ul><li><code>Object</code><div class="sub-desc"></div></li></ul></div></div></div></td><td class="msource">Xwb</td></tr><tr class="method-row expandable "><td class="micon"><a href="#expand" class="exi">&nbsp;</a></td><td class="sig"><a id="Xwb-getSiteUid"></a><b><a href="source/std-doc.html#method-Xwb-getSiteUid">getSiteUid</a></b>()
    :
                                        String<div class="mdesc"><div class="short">返回站点用户ID</div><div class="long">返回站点用户ID<div class="mdetail-params"><strong>Parameters:</strong><ul><li>None.</li></ul><strong>Returns:</strong><ul><li><code>String</code><div class="sub-desc">siteId</div></li></ul></div></div></div></td><td class="msource">Xwb</td></tr><tr class="method-row expandable "><td class="micon"><a href="#expand" class="exi">&nbsp;</a></td><td class="sig"><a id="Xwb-getUid"></a><b><a href="source/std-doc.html#method-Xwb-getUid">getUid</a></b>()
    :
                                        String<div class="mdesc"><div class="short">返回登录用户ID</div><div class="long">返回登录用户ID<div class="mdetail-params"><strong>Parameters:</strong><ul><li>None.</li></ul><strong>Returns:</strong><ul><li><code>String</code><div class="sub-desc">userId</div></li></ul></div></div></div></td><td class="msource">Xwb</td></tr><tr class="method-row expandable "><td class="micon"><a href="#expand" class="exi">&nbsp;</a></td><td class="sig"><a id="Xwb-getWb"></a><b><a href="source/std-doc.html#method-Xwb-getWb">getWb</a></b>()
    :
                                        Object<div class="mdesc"><div class="short">根据微博ID返回缓存中的微博数据</div><div class="long">根据微博ID返回缓存中的微博数据<div class="mdetail-params"><strong>Parameters:</strong><ul><li>None.</li></ul><strong>Returns:</strong><ul><li><code>Object</code><div class="sub-desc"></div></li></ul></div></div></div></td><td class="msource">Xwb</td></tr><tr class="method-row expandable "><td class="micon"><a href="#expand" class="exi">&nbsp;</a></td><td class="sig"><a id="Xwb-setWb"></a><b><a href="source/std-doc.html#method-Xwb-setWb">setWb</a></b>(&nbsp;<code>String&nbsp;wid</code>,&nbsp;<code>Object&nbsp;wbData</code>&nbsp;)
    :
                                        void<div class="mdesc"><div class="short">缓存微博数据到全局缓存</div><div class="long">缓存微博数据到全局缓存<div class="mdetail-params"><strong>Parameters:</strong><ul><li><code>wid</code> : String<div class="sub-desc"></div></li><li><code>wbData</code> : Object<div class="sub-desc"></div></li></ul><strong>Returns:</strong><ul><li>void</li></ul></div></div></div></td><td class="msource">Xwb</td></tr><tr class="method-row expandable "><td class="micon"><a href="#expand" class="exi">&nbsp;</a></td><td class="sig"><a id="Xwb-reg"></a><b><a href="source/std-doc.html#method-Xwb-reg">reg</a></b>(&nbsp;<code>String&nbsp;shortcut</code>,&nbsp;<code>Function|Object&nbsp;target</code>,&nbsp;<code>Boolean&nbsp;[override]</code>&nbsp;)
    :
                                        clazz<div class="mdesc"><div class="short">为指定类或对象注册一个短命名标识，便于在其它地方通过use方法返回该类实例或该对象。</div><div class="long">为指定类或对象注册一个短命名标识，便于在其它地方通过<a href="output/use.html" ext:cls="use">use</a>方法返回该类实例或该对象。<br/><div class="mdetail-params"><strong>Parameters:</strong><ul><li><code>shortcut</code> : String<div class="sub-desc">标识，即该类的缩略名</div></li><li><code>target</code> : Function|Object<div class="sub-desc">类或对象</div></li><li><code>[override]</code> : Boolean<div class="sub-desc">默认如果已存在同名对象会抛出异常，但通过设置本标记可强制重定义类</div></li></ul><strong>Returns:</strong><ul><li><code>clazz</code><div class="sub-desc"></div></li></ul></div></div></div></td><td class="msource">Xwb</td></tr><tr class="method-row expandable "><td class="micon"><a href="#expand" class="exi">&nbsp;</a></td><td class="sig"><a id="Xwb-use"></a><b><a href="source/std-doc.html#method-Xwb-use">use</a></b>(&nbsp;<code>Object&nbsp;name</code>,&nbsp;<code>Object&nbsp;[config]</code>&nbsp;)
    :
                                        Object<div class="mdesc"><div class="short">使用短名类，可以将某个类或类实例通过reg方法放到Xwb对象缓存中，&#13;
在任何地方调用本方法获得已缓存对象。</div><div class="long">使用短名类，可以将某个类或类实例通过<a href="output/Xwb.html#Xwb-reg" ext:member="reg" ext:cls="Xwb">reg</a>方法放到Xwb对象缓存中，
在任何地方调用本方法获得已缓存对象。<div class="mdetail-params"><strong>Parameters:</strong><ul><li><code>name</code> : Object<div class="sub-desc">根据键查找缓存对象</div></li><li><code>[config]</code> : Object<div class="sub-desc">假如缓存值为一个类(Function)，以config为参数实例化该类</div></li></ul><strong>Returns:</strong><ul><li><code>Object</code><div class="sub-desc">如果缓存的是一个类(Function)，返回该类实例，否则直接返回缓存对象</div></li></ul></div></div></div></td><td class="msource">Xwb</td></tr><tr class="method-row expandable "><td class="micon"><a href="#expand" class="exi">&nbsp;</a></td><td class="sig"><a id="Xwb-isModule"></a><b><a href="source/std-doc.html#method-Xwb-isModule">isModule</a></b>(&nbsp;<code>String&nbsp;page</code>,&nbsp;<code>Boolean&nbsp;</code>&nbsp;)
    :
                                        void<div class="mdesc"><div class="short">检测当前页面是否为指定模块的页面。&#13;
通过BigPipe实现模块加载后该方法已被废弃。</div><div class="long">检测当前页面是否为指定模块的页面。
通过BigPipe实现模块加载后该方法已被废弃。<div class="mdetail-params"><strong>Parameters:</strong><ul><li><code>page</code> : String<div class="sub-desc"></div></li><li><code></code> : Boolean<div class="sub-desc"></div></li></ul><strong>Returns:</strong><ul><li>void</li></ul></div></div></div></td><td class="msource">Xwb</td></tr><tr class="method-row expandable "><td class="micon"><a href="#expand" class="exi">&nbsp;</a></td><td class="sig"><a id="Xwb-getModule"></a><b><a href="source/std-doc.html#method-Xwb-getModule">getModule</a></b>()
    :
                                        String<div class="mdesc"><div class="short">返回当前页面模块名称</div><div class="long">返回当前页面模块名称<div class="mdetail-params"><strong>Parameters:</strong><ul><li>None.</li></ul><strong>Returns:</strong><ul><li><code>String</code><div class="sub-desc"></div></li></ul></div></div></div></td><td class="msource">Xwb</td></tr><tr class="method-row expandable "><td class="micon"><a href="#expand" class="exi">&nbsp;</a></td><td class="sig"><a id="Xwb-report"></a><b><a href="source/std-doc.html#method-Xwb-report">report</a></b>()
    :
                                        void<div class="mdesc"><div class="short">数据上报</div><div class="long">数据上报<div class="mdetail-params"><strong>Parameters:</strong><ul><li>None.</li></ul><strong>Returns:</strong><ul><li>void</li></ul></div></div></div></td><td class="msource">Xwb</td></tr></tbody></table></div>