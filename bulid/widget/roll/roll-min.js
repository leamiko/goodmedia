(function(a,c,d){var b=function(f,e){this.wrap=f;this.scrollWrap="#J_ScrollWrap"+new Date().valueOf();this.T=null;this.clone=null;var g={towards:"up",height:300,width:300,speed:200,auto:true,endtype:"endtoend"};d.extend(g,e);this.config=g};b.prototype={_roll:function(i){var m=this,e=d(m.wrap),f=d(m.scrollWrap),o=m.clone,j=function(){return{left:e.position().left}},h=function(){return{top:e.position().top}},p=e.position().top,g=e.position().left,n=o.position().top,q=o.position().left;var l={up:function(){p--;n--;e.css("top",p);m.clone.css("top",n)},down:function(){p++;n++;e.css("top",p);m.clone.css("top",n)},left:function(){g--;q--;e.css("left",g);m.clone.css("left",q)},right:function(){g++;q++;e.css("left",g);m.clone.css("left",q)}};var r={endtoend:function(){l[i]();var t=function(){if(Math.abs(p)>=e.height()||Math.abs(n)>=e.height()){e.css("top",0);if(i==="up"){m.clone.css("top",e.height())}if(i==="down"){m.clone.css("top",-e.height())}}};var s=function(){if(Math.abs(g)>=e.width()||Math.abs(q)>=e.width()){e.css("left",0);if(i==="left"){m.clone.css("left",e.width())}if(i==="right"){m.clone.css("left",-e.width())}}};switch(i){case"up":t();break;case"down":t();break;case"left":s();break;case"right":s();break;default:break}}};var k={up:function(){if(Math.abs(p)<=e.height()-f.height()){l[i]()}else{r[m.config.endtype]()}},down:function(){if(Math.abs(p)<f.height()){l[i]()}else{r[m.config.endtype]()}},left:function(){if(Math.abs(g)<=e.width()-f.width()){l[i]()}else{r[m.config.endtype]()}},right:function(){if(Math.abs(g)<f.width()){l[i]()}else{r[m.config.endtype]()}}};k[i]()},changeTowards:function(e){this.config.towards=e;this.stop();this.run()},changespeed:function(e){this.config.speed=e;this.stop();this.run()},auto:function(e){this.config.auto=e;this.stop();this.run()},run:function(){var i=this,e=d(i.wrap),h=i.config,g=h.towards,f=d(i.scrollWrap);var j={transverse:(g==="left"||g==="right")?(f.width()<e.width()):true,vertical:(g==="up"||g==="down")?(f.height()<e.height()):true};if(j.transverse&&j.vertical&&i.config.auto){i.T=setInterval(function(){i._roll(g)},i.config.speed)}},stop:function(){var e=this;clearInterval(e.T)},init:function(){var g=this,f=g.config,e=d(g.wrap);e.wrap("<div id='"+g.scrollWrap.slice(1)+"'></div>").css({position:"absolute",top:0,left:0});d(g.scrollWrap).css({width:f.width,height:f.height,overflow:"hidden",position:"relative"});if(g.config.endtype==="endtoend"){g.clone=e.clone();g.clone.attr("id","J_"+new Date().valueOf());switch(f.towards){case"up":e.parent().append(g.clone);g.clone.css({left:0,top:e.height()});break;case"down":e.parent().prepend(g.clone);g.clone.css({left:0,top:-e.height()});break;case"left":e.parent().append(g.clone);g.clone.css({top:0,left:e.width()});break;case"right":e.parent().prepend(g.clone);g.clone.css({top:0,left:-e.width()});break;default:break}}g.run()}};if(c&&c.widget){c.widget.roll=b}})(window,GM,jQuery);